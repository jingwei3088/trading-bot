"""
BTC 网格交易机器人 - 配置文件
趋势跟踪 + 网格混合策略
"""

# ============================================================
# 回测参数
# ============================================================
BACKTEST_CONFIG = {
    "initial_capital": 10000,      # 初始资金 (USDT)
    "data_file": "data/btc_1h.csv",  # OHLCV数据文件
    "commission_rate": 0.001,      # 手续费率 0.1%
}

# ============================================================
# 混合策略参数
# ============================================================
GRID_CONFIG = {
    "grid_size": 0.02,             # 网格间距 2%
    "grid_count": 15,              # 单边网格数量
    "order_amount": 0.002,         # 每格下单量 (BTC)
    
    "dynamic_grid": True,
    "min_grid_size": 0.01,
    "max_grid_size": 0.03,
}

# ============================================================
# 技术指标参数
# ============================================================
INDICATOR_CONFIG = {
    "ema_fast": 20,
    "ema_slow": 60,
    "atr_period": 14,
    "volatility_lookback": 24,
    "trend_ema": 100,              # 趋势判断用的长期EMA
}

# ============================================================
# 风控参数
# ============================================================
RISK_CONFIG = {
    "max_position_ratio": 0.60,    # 最大仓位占比 60%
    "max_drawdown": 0.20,          # 最大回撤 20%
    "daily_loss_limit": 0.05,
    "trend_threshold": 0.03,
    "consecutive_loss_limit": 5,
}

# ============================================================
# 输出配置
# ============================================================
OUTPUT_CONFIG = {
    "results_dir": "results/",
    "log_file": "logs/backtest.log",
    "save_trades": True,
    "plot_results": True,
}
